<!DOCTYPE html>
<html>

<head>
  <title>ODS Widgets Minimal Boilerplate</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- These are  the required CSS files if you use ODS widgets -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://opendatasoft.github.io/ods-widgets/dist/ods-widgets.css">
</head>

<body>
  <div class="container-fluid" ng-app="ods-widgets">
    <ods-dataset-context context="velo" velo-domain="data.opendatasoft.com" velo-dataset="amenagements-velo-en-ile-de-france@datailedefrance">
      <div id="map-idf" class="ods-map-wrapper">
        <ods-map class="fullscreen-feature" location="10,48.831,2.349" scroll-wheel-zoom="false" display-control="0">
          <ods-map-layer context="velo" color="#128317"></ods-map-layer>
        </ods-map>
      </div>
      <div id="chart-idf" class="ods-chart-wrapper">
        <ods-chart class="fullscreen-feature" align-month="true">
          <ods-chart-query context="velo" field-x="highway" maxpoints="50">
            <ods-chart-serie expression-y="osm_id" chart-type="column" function-y="AVG" color="#e74c3c" scientific-display="true">
            </ods-chart-serie>
          </ods-chart-query>
        </ods-chart>
      </div>
    </ods-dataset-context>
    <div id="story">
      <h1>Opendatasotf scrollytelling boilerplate</h1>
      <p>This a little boilerplate that showcases different techniques of scrolly telling you can use with our data. We have more than 20k dataset you can use!</p>
      <p>This boilerplate uses the most excellent scrollama lib and takes a lot of inspiration from the Mapbox GL JS scrollytelling template. Be sure to check those out!</p>
      <!-- The ".step" is used as a selector for the scroller.
      Whenever it enters/leaves the screen the onStepEnter/onStepExit callback is fired
      data-feature will tell wich element to apply/remove the ".acitve" class on.-->
      <div class="step" data-feature="map-idf">
        <!-- The .step div takes the full screen, inside it you want to place your text etc. which is typically not fullscreen -->
        <div class="story-block lefty">
          <p>This is a map from the ODS widgets that fades in and out as you scroll.</p>
        </div>
      </div>
      <div class="step" data-feature="chart-idf">
        <div class="story-block centered">
          <p>This is a chart from ODS widgets that slides in and out from the right. You can style those text box as you wish! Here we centered it ðŸ˜„</p>
        </div>
      </div>
      <div class="step" data-feature="chart-idf">
        <div class="story-block righty">
          <p>You can also make things appear as you scroll. This one requires a bit of JS:
            <ul>
              <li>Scrollama gives you access to the progress binding</li>
              <li>You set it as the attribute of the widget in the callback function</li>
            </ul>
            Here we create discrete steps to add a new element to show every XX%.
          </p>
        </div>
      </div>
      <p>You can also use your favorites JS library with ODS data. To this end you have access to the powerful ODS API v2 to fetch the data.</p>
    </div>
  </div>

  <!-- These are  the required js library if you use ODS widgets. Carefully test if you are using a framework, since they rely on AngularJS and jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js"></script>
  <script type="text/javascript" src="https://opendatasoft.github.io/ods-widgets/dist/ods-widgets.js"></script>
</body>

</html>
