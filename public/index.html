<!DOCTYPE html>
<html>

<head>
  <title>ODS Widgets Minimal Boilerplate</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- These are  the required CSS files if you use ODS widgets -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://opendatasoft.github.io/ods-widgets/dist/ods-widgets.css">
</head>

<body>
  <div class="container-fluid" ng-app="ods-widgets">
    <ods-dataset-context context="velo" velo-domain="data.opendatasoft.com" velo-dataset="amenagements-velo-en-ile-de-france@datailedefrance">
      <section id="intro">
        <div class="prose">
          <h1>Opendatasotf scrollytelling boilerplate</h1>
          <p>This a little boilerplate that showcases different techniques of scrolly telling you can use with our data. We have more than 20k dataset you can use!</p>
          <p>This boilerplate uses the most excellent scrollama lib and takes a lot of inspiration from the Mapbox GL JS scrollytelling template. Be sure to check those out!</p>
        </div>
      </section>
      <section id="fullsrceen">
        <div id="fullscreen">
          <!-- The .step div takes the full screen, inside it you want to place your text etc. which is typically not fullscreen -->
          <map id="map-idf" class="ods-map-wrapper">
            <ods-map class="fullscreen-feature" location="10,48.831,2.349" scroll-wheel-zoom="false" display-control="0">
              <ods-map-layer context="velo" color="#128317"></ods-map-layer>
            </ods-map>
          </map>
          <div class="step" data-feature="map-idf">
            <div class="story-block lefty">
              <p>This a map from ODS widgets. It will have
                <pre>position:Â fixed;</pre> until this box is out. It uses the default action of this boilerplate:Â add the
                <pre>.active</pre> class to the feature.</p>
            </div>
          </div>
          <figure id="chart-idf" class="ods-chart-wrapper">
            <ods-chart class="fullscreen-feature" align-month="true">
              <ods-chart-query context="velo" field-x="highway" maxpoints="50">
                <ods-chart-serie expression-y="osm_id" chart-type="column" function-y="AVG" color="#e74c3c" scientific-display="true">
                </ods-chart-serie>
              </ods-chart-query>
            </ods-chart>
          </figure>
          <div class="step" data-feature="chart-idf">
            <div class="story-block centered">
              <p>Sticky is the most common behavior in scrollytelling, but you can add any transition you want. This chart from ODS widgets, slides in and fades. To do that you have to specify callbacks when entering and exiting the step in the
                callback mapping of
                <pre>src/app.js</pre>
              </p>
              <p>You can also style those text box as you wish! Here we centered it ðŸ˜„</p>
            </div>
          </div>
        </div>
      </section>
      <section id="columns">
        <div class="scrolly-side">
          <div class="step" data-feature="gauge">
            <div class="story-block story-block-long lefty">
              <p>This a map from ODS widgets. It will have
                <pre>position:Â fixed;</pre> until this box is out. It uses the default action of this boilerplate:Â add the
                <pre>.active</pre> class to the feature.</p>
            </div>
          </div>
          <figure id="gauge" class="ods-gauge-wrapper">
            <ods-gauge class="column-feature" display-mode="circle" value="33" max="100"></ods-gauge>
          </figure>
        </div>
      </section>
    </ods-dataset-context>
    <!-- The ".step" is used as a selector for the scroller.
      Whenever it enters/leaves the screen the onStepEnter/onStepExit callback is fired
      data-feature will tell wich element to apply/remove the ".acitve" class on.-->
  </div>

  <!-- These are  the required js library if you use ODS widgets. Carefully test if you are using a framework, since they rely on AngularJS and jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-sanitize.min.js"></script>
  <script type="text/javascript" src="https://opendatasoft.github.io/ods-widgets/dist/ods-widgets.js"></script>
</body>

</html>
